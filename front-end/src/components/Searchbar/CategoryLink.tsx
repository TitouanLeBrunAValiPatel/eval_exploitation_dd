import { useNavigate, Link } from 'react-router-dom';

function CategoryLink({ name, id }:
    { name: string, id: number }
) {
    const navigate = useNavigate();
    const destination = `/category/${name}`;

    const handleLinkClick = async (event: { preventDefault: () => void; }) => {
        event.preventDefault();
        const response = await fetch(`http://localhost:8080/api/products/categories/${id}`);
        const data = await response.json();
        navigate(destination, { state: { categoryData: data } });
    }

    return (
        <Link to={destination} className="text-white bg-yellow-300 p-2 rounded shadow-md" onClick={handleLinkClick}>
            {name}
        </Link>
    );
}

export default CategoryLink;