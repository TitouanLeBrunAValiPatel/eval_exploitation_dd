import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import HomePage from './components/Home/HomePage';
import CategoryPage from './components/Category/CategoryPage';
import LoginPage from './components/LoginPage/LoginPage';
import ProfilPage from './components/ProfilPage/ProfilPage';
import AuthContext from './components/LoginPage/AuthContext';
import SearchBar from './components/Searchbar/SearchBar'
import { useLocation } from 'react-router-dom';
import { useState } from 'react';

function Main() {
  const location = useLocation();

  return (
    <>
      {location.pathname !== '/login' && <SearchBar />}
      <Routes>

        <Route path="/*" element={<HomePage />} />
        <Route path="/category/:categoryName" element={<CategoryPage />} />
        <Route path="/login" element={<LoginPage />} />
        <Route path="/profil" element={<ProfilPage />} />
      </Routes>

    </>
  );
}

function App() {


  return (
    <AuthContext.Provider value={{ login: () => { }, logout: () => { } }}>
      <Router>
        <Main />
      </Router>
    </AuthContext.Provider>
  );
}


export default App;